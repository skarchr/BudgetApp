@using BudgetApp.Extensions
@using BudgetApp.Models
@model LoginViewModel
@{
   ViewBag.Title = "Log in";
}

<div class="row" style="margin-top: 20px;">

    <div class="col-md-12 text-center" style="margin-bottom: 20px;">

        <svg class="see text-center" xmlns="http://www.w3.org/2000/svg" version="1.0" width="200" height="200" viewBox="0 0 200 200" preserveAspectRatio="xMidYMid meet">
            <g class="pig-color" transform="translate(0.000000,200.000000) scale(0.100000,-0.100000)" fill="#296ad4" stroke="none">
                <path d="M866 1990 c-413 -65 -727 -347 -833 -749 -22 -82 -26 -117 -26 -241 0 -124 4 -159 26 -241 48 -183 135 -335 263 -463 128 -128 280 -215 463 -263 82 -22 117 -26 241 -26 124 0 159 4 241 26 365 97 629 361 726 726 22 82 26 117 26 241 0 124 -4 159 -26 241 -97 365 -365 633 -726 725 -109 28 -280 39 -375 24z m144 -275 c32 -17 60 -61 60 -95 0 -55 -57 -110 -115 -110 -58 0 -115 55 -115 110 0 81 95 134 170 95z m399 -193 c19 -9 39 -26 45 -37 6 -11 16 -23 21 -27 6 -4 -4 -8 -20 -8 -41 0 -55 -16 -55 -61 0 -27 8 -44 31 -68 30 -32 79 -123 79 -148 0 -21 34 -15 74 12 48 32 58 32 93 -8 56 -63 85 -237 43 -257 -8 -4 -39 -18 -67 -31 -29 -12 -53 -25 -53 -29 0 -4 9 -15 21 -26 12 -10 27 -31 35 -45 17 -34 3 -48 -63 -60 -57 -11 -61 -14 -128 -110 -31 -44 -60 -79 -65 -79 -6 0 -7 -24 -3 -61 9 -86 3 -89 -164 -89 -126 0 -133 1 -133 20 0 19 -7 20 -115 20 -108 0 -115 -1 -115 -20 0 -19 -7 -20 -130 -20 l-130 0 -73 75 c-131 137 -185 253 -194 415 -3 56 -1 111 6 135 7 27 7 41 1 43 -33 11 -71 58 -85 104 -12 43 -13 54 -1 83 28 67 122 93 168 47 18 -18 20 -26 12 -40 -12 -18 -40 -20 -86 -8 -21 6 -29 4 -34 -8 -10 -27 24 -56 65 -55 31 0 41 7 74 49 70 93 185 170 340 228 59 22 88 26 162 26 50 -1 119 -8 155 -17 l65 -16 40 38 c22 21 47 41 55 44 32 11 96 6 129 -11z" />
            </g>
        </svg>

    </div>

    <div class="see-after col-md-12 text-center">
        <section id="loginForm">
            @using (Html.BeginForm("Login", "Account", new { ReturnUrl = ViewBag.ReturnUrl }, FormMethod.Post, new { @class = "form-horizontal", role = "form" }))
            {
                @Html.AntiForgeryToken()

                @Html.MyValidationSummary()

                <div class="form-group input-box">
                    <div class="col-md-12">
                        @Html.TextBoxFor(m => m.Email, new { @class = "form-control center", @placeholder = "Email", @autocomplete = "off" })
                        @Html.ValidationMessageFor(m => m.Email)
                    </div>
                </div>
                <div class="form-group input-box">
                    <div class="col-md-12">
                        @Html.PasswordFor(m => m.Password, new { @class = "form-control center", @placeholder = "Password" })
                        @Html.ValidationMessageFor(m => m.Password)
                    </div>
                </div>
                <div class="form-group">
                    <div class="col-md-12 center" style="width: 280px;padding:0;">
                        
                        @Html.ActionLink("Forgot your password?", "ForgotPassword", null, new { @class = "btn btn-link", @style = "float:left;padding-left:0;" })

                        <input type="submit" value="Log in" style="float:right;background-color:#296ad4;"class="btn btn-primary" />
                        
                        
                    </div>
                </div>
                
            }
        </section>
    </div>
    <div class="see-after col-md-12 text-center" style="margin-top: 30px;">
        <section id="socialLoginForm">
            @Html.Partial("_ExternalLoginsListPartial", new ExternalLoginListViewModel { ReturnUrl = ViewBag.ReturnUrl })
            
            <p style="margin-top: 50px;">
                @Html.ActionLink("Register", "Register") if you don't have an account.
            </p>

        </section>
    </div>
</div>

@if (Html.ViewData.ModelState.IsValid)
{
    <style>
        .see {
            -ms-transform: scale(0.7, 0.7);
            -webkit-transform: scale(0.7, 0.7);
            transform: scale(0.7, 0.7);
            position: absolute;
            z-index: 1000;
            -webkit-transition: -webkit-transform 0.2s ease-out;
            -moz-transition: -moz-transform 0.2s ease-out;
            transition: transform 0.2s ease-out;
            position: inherit;
        }

        .see-after {
            display: none;
        }
    </style>

    <script>
        (function () {

            $('.see')
                .velocity({
                    scale: 1.00,
                    marginTop: 0
                });

            $('.see-after')
                .delay(300)
                .velocity('slideDown', {
                    duration: 500
                });
        })();
    </script>
}
else
{

    <script>
        (function () {

            $('.notification-warnings').velocity("transition.slideUpIn", 1250);

            $('.input-box').velocity('callout.shake');

        })();
    </script>
}

@section Scripts {
   @Scripts.Render("~/bundles/jqueryval")
}